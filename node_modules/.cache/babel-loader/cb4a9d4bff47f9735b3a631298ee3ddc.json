{"ast":null,"code":"var _jsxFileName = \"/home/programowanie/isaacQuiz/isaac-quiz/src/Quiz/generateQuestion.js\";\nimport React from \"react\";\nimport { QualityQuestion, ChargeQuestion, CharacterUnlockQuestion, ItemDescriptionQuestion } from \"./Questions/questionsComponents\";\nimport QuestionType from \"./enum\"; // Charge question answer formatting\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChargeAnswer(amount) {\n  let unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  let answer = `${amount} ${unit}`;\n  answer = answer[0].toUpperCase() + answer.slice(1);\n  return answer;\n}\n\n_c = ChargeAnswer;\n\nfunction shuffledArray(array) {\n  let newArray = [...array];\n\n  for (let i = newArray.length - 1; i > 0; i--) {\n    let j = Math.floor(Math.random() * (i + 1));\n    let temp = newArray[i];\n    newArray[i] = newArray[j];\n    newArray[j] = temp;\n  }\n\n  return newArray;\n}\n\nlet items;\nlet apiUrl = \"\";\nfetch(`${apiUrl}/api/items`).then(response => response.json()).then(data => {\n  items = data;\n});\n\nfunction generateQuestion() {\n  return new Promise((resolve, reject) => {\n    // 718 items as of now\n    let itemsAmount = 718;\n    let activeItemIds = [33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 44, 45, 47, 49, 56, 58, 65, 66, 77, 78, 83, 84, 85, 86, 93, 97, 102, 105, 107, 111, 123, 124, 126, 127, 130, 133, 135, 136, 137, 145, 146, 158, 160, 164, 166, 171, 175, 177, 181, 186, 192, 282, 283, 284, 285, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 323, 324, 325, 326, 338, 347, 348, 349, 351, 352, 357, 382, 383, 386, 396, 406, 419, 422, 427, 434, 437, 439, 441, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 504, 507, 508, 510, 512, 515, 516, 521, 522, 523, 527, 536, 540, 545, 549, 550, 552, 555, 556, 557, 577, 578, 580, 584, 585, 604, 605, 609, 611, 622, 623, 625, 628, 631, 635, 636, 639, 640, 642, 650, 653, 655, 685, 687, 703, 705, 706, 709, 710, 711, 712, 713, 714, 715, 719, 720, 722, 723, 728, 729];\n    let possibleAnswersSeconds = [ChargeAnswer(1, \"s\"), ChargeAnswer(2, \"s\"), ChargeAnswer(3, \"s\"), ChargeAnswer(4, \"s\"), ChargeAnswer(6, \"s\")];\n    let possibleAnswersSecondsSpecial = [ChargeAnswer(7, \"s\"), ChargeAnswer(10, \"s\"), ChargeAnswer(15, \"s\"), ChargeAnswer(16, \"s\")];\n    let possibleAnswersRooms = [ChargeAnswer(1, \"rooms\"), ChargeAnswer(2, \"rooms\"), ChargeAnswer(3, \"rooms\"), ChargeAnswer(4, \"rooms\"), ChargeAnswer(6, \"rooms\"), ChargeAnswer(12, \"rooms\")]; // Get random question type\n\n    let questionType = Math.floor(Object.keys(QuestionType).length * Math.random()); // Quality Questions\n\n    if (questionType == QuestionType.QualityQuestion) {\n      let itemId = Math.floor(Math.random() * itemsAmount);\n      let itemName = items[itemId].name;\n      console.log(items[itemId.quality]);\n      let itemQuality = items[itemId.quality];\n      let question = {\n        question: /*#__PURE__*/_jsxDEV(QualityQuestion, {\n          itemName: itemName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this),\n        correctAnswer: itemQuality,\n        answers: [0, 1, 2, 3, 4]\n      };\n      resolve(question);\n    } // Charge Questions\n    // TO BE REFACTORISED, THE CODE IS AWFUL RIGHT NOW\n\n\n    if (questionType == QuestionType.ChargeQuestion) {\n      let itemId = activeItemIds[Math.floor(Math.random() * activeItemIds.length)];\n      fetch(`${apiUrl}/api/items/${itemId}`).then(response => response.json()).then(data => {\n        let answers = [ChargeAnswer(\"unlimited\"), ChargeAnswer(\"one time use\")]; // Randomise different sets of answers based on the correct answer type\n\n        if (data.rechargeTime.unit == \"s\" && Number(data.rechargeTime.amount) <= 6) {\n          let additionalAnswers = shuffledArray(possibleAnswersSeconds);\n          let correctAnswer = ChargeAnswer(data.rechargeTime.unit, data.rechargeTime.amount);\n          additionalAnswers = additionalAnswers.filter(el => {\n            return el != correctAnswer;\n          });\n          answers[2] = additionalAnswers[0];\n          answers[3] = additionalAnswers[1];\n          answers[4] = ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit);\n          answers = shuffledArray(answers);\n        } else if (data.rechargeTime.unit == \"s\" && Number(data.rechargeTime.amount) >= 7) {\n          let additionalAnswers = shuffledArray(possibleAnswersSecondsSpecial);\n          let correctAnswer = ChargeAnswer(data.rechargeTime.unit, data.rechargeTime.amount);\n          additionalAnswers = additionalAnswers.filter(el => {\n            return el != correctAnswer;\n          });\n          answers[2] = additionalAnswers[0];\n          answers[3] = additionalAnswers[1];\n          answers[4] = ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit);\n          answers = shuffledArray(answers);\n        } else if (data.rechargeTime.unit == \"rooms\") {\n          let correctAnswer = ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit);\n          let additionalAnswers = shuffledArray(possibleAnswersRooms);\n          additionalAnswers = additionalAnswers.filter(el => {\n            return el != correctAnswer;\n          });\n          answers[2] = additionalAnswers[0];\n          answers[3] = additionalAnswers[1];\n          answers[4] = correctAnswer;\n          answers = shuffledArray(answers);\n        } else {\n          let additionalAnswers = shuffledArray(possibleAnswersRooms);\n          answers[2] = additionalAnswers[0];\n          answers[3] = additionalAnswers[1];\n          answers[4] = additionalAnswers[2];\n          answers = shuffledArray(answers);\n        }\n\n        let question = {\n          question: /*#__PURE__*/_jsxDEV(ChargeQuestion, {\n            itemName: data.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this),\n          correctAnswer: ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit),\n          answers: answers\n        };\n        resolve(question);\n      });\n    }\n\n    if (questionType == QuestionType.CharacterUnlockQuestion) {\n      let itemId = Math.floor(Math.random() * itemsAmount);\n      let characters = [\"Isaac\", \"Magdalene\", \"Cain\", \"Judas\", \"???\", \"Eve\", \"Samson\", \"Azazel\", \"Lazarus\", \"Eden\", \"The Lost\", \"Lilith\", \"Keeper\", \"Apollyon\", \"The Forgotten\", \"Bethany\", \"Jacob and Esau\", \"Tainted Isaac\", \"Tainted Magdalene\", \"Tainted Cain\", \"Tainted Judas\", \"Tainted ???\", \"Tainted Eve\", \"Tainted Samson\", \"Tainted Azazel\", \"Tainted Lazarus\", \"Tainted Eden\", \"Tainted Lost\", \"Tainted Lilith\", \"Tainted Keeper\", \"Tainted Apollyon\", \"Tainted Forgotten\", \"Tainted Bethany\", \"Tainted Jacob\"];\n      let properItemFound = false;\n      let correctAnswer;\n      let itemName;\n\n      while (!properItemFound) {\n        let checkedItem = items[Math.floor(Math.random() * itemsAmount)];\n\n        if (checkedItem.unlock && checkedItem.unlock.character) {\n          properItemFound = true;\n          correctAnswer = checkedItem.unlock.character;\n          itemName = checkedItem.name;\n        }\n      }\n\n      let charactersWithoutCorrect = characters.filter(el => {\n        return el != correctAnswer;\n      });\n      charactersWithoutCorrect = shuffledArray(charactersWithoutCorrect);\n      let answers = [correctAnswer, charactersWithoutCorrect[0], charactersWithoutCorrect[1], charactersWithoutCorrect[2], charactersWithoutCorrect[3]];\n      answers = shuffledArray(answers);\n      let question = {\n        question: /*#__PURE__*/_jsxDEV(CharacterUnlockQuestion, {\n          itemName: itemName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this),\n        correctAnswer: correctAnswer,\n        answers: answers\n      };\n      resolve(question);\n    }\n\n    if (questionType == QuestionType.ItemDescriptionQuestion) {\n      let answers = [];\n      let itemName;\n\n      while (answers.length < 5) {\n        let item = items[Math.floor(Math.random() * itemsAmount)];\n        answers.push(item.quote);\n        itemName = item.name;\n      }\n\n      let correctAnswer = answers[4];\n      answers = shuffledArray(answers);\n      let question = {\n        question: /*#__PURE__*/_jsxDEV(ItemDescriptionQuestion, {\n          itemName: itemName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 23\n        }, this),\n        correctAnswer: correctAnswer,\n        answers: answers\n      };\n      resolve(question);\n    }\n  });\n}\n\nasync function generateMultipleQuestions(questionAmount) {\n  let questions = [];\n\n  for (let i = 0; i < questionAmount; i++) {\n    let question = await generateQuestion();\n    questions.push(question);\n  }\n\n  return questions;\n}\n\nexport { generateQuestion, generateMultipleQuestions };\n\nvar _c;\n\n$RefreshReg$(_c, \"ChargeAnswer\");","map":{"version":3,"sources":["/home/programowanie/isaacQuiz/isaac-quiz/src/Quiz/generateQuestion.js"],"names":["React","QualityQuestion","ChargeQuestion","CharacterUnlockQuestion","ItemDescriptionQuestion","QuestionType","ChargeAnswer","amount","unit","answer","toUpperCase","slice","shuffledArray","array","newArray","i","length","j","Math","floor","random","temp","items","apiUrl","fetch","then","response","json","data","generateQuestion","Promise","resolve","reject","itemsAmount","activeItemIds","possibleAnswersSeconds","possibleAnswersSecondsSpecial","possibleAnswersRooms","questionType","Object","keys","itemId","itemName","name","console","log","quality","itemQuality","question","correctAnswer","answers","rechargeTime","Number","additionalAnswers","filter","el","characters","properItemFound","checkedItem","unlock","character","charactersWithoutCorrect","item","push","quote","generateMultipleQuestions","questionAmount","questions"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {QualityQuestion, ChargeQuestion, CharacterUnlockQuestion, ItemDescriptionQuestion} from \"./Questions/questionsComponents\";\nimport QuestionType from \"./enum\";\n\n// Charge question answer formatting\nfunction ChargeAnswer(amount, unit = \"\") {\n  let answer = `${amount} ${unit}`;\n  answer = answer[0].toUpperCase() + answer.slice(1);\n  return answer;\n}\nfunction shuffledArray(array) {\n  let newArray = [...array];\n  for (let i = newArray.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = newArray[i];\n      newArray[i] = newArray[j];\n      newArray[j] = temp;\n  }\n  return newArray;\n}\n\nlet items;\nlet apiUrl = \"\"\nfetch(`${apiUrl}/api/items`)\n.then(response => response.json())\n.then(data => {\n      items = data;\n    }\n);\n\nfunction generateQuestion() {\n    return new Promise((resolve, reject) => {\n        // 718 items as of now\n        let itemsAmount = 718\n        let activeItemIds = [33,34,35,36,37,38,39,40,41,42,44,45,47,49,56,58,65,66,77,78,83,84,85,86,93,97,102,105,107,111,123,124,126,127,130,133,135,136,137,145,146,158,160,164,166,171,175,177,181,186,192,282,283,284,285,287,288,289,290,291,292,293,294,295,296,297,298,323,324,325,326,338,347,348,349,351,352,357,382,383,386,396,406,419,422,427,434,437,439,441,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490,504,507,508,510,512,515,516,521,522,523,527,536,540,545,549,550,552,555,556,557,577,578,580,584,585,604,605,609,611,622,623,625,628,631,635,636,639,640,642,650,653,655,685,687,703,705,706,709,710,711,712,713,714,715,719,720,722,723,728,729];\n          let possibleAnswersSeconds = [\n            ChargeAnswer(1,\"s\"),\n            ChargeAnswer(2,\"s\"),\n            ChargeAnswer(3,\"s\"),\n            ChargeAnswer(4,\"s\"),\n            ChargeAnswer(6,\"s\")\n          ];\n          let possibleAnswersSecondsSpecial = [\n            ChargeAnswer(7,\"s\"),\n            ChargeAnswer(10,\"s\"),\n            ChargeAnswer(15,\"s\"),\n            ChargeAnswer(16,\"s\"),\n          ];\n          let possibleAnswersRooms = [\n            ChargeAnswer(1,\"rooms\"),\n            ChargeAnswer(2,\"rooms\"),\n            ChargeAnswer(3,\"rooms\"),\n            ChargeAnswer(4,\"rooms\"),\n            ChargeAnswer(6,\"rooms\"),\n            ChargeAnswer(12,\"rooms\"),\n          ];\n        // Get random question type\n        let questionType = Math.floor(Object.keys(QuestionType).length * Math.random())\n        \n        // Quality Questions\n        if(questionType == QuestionType.QualityQuestion) {\n          let itemId = Math.floor(Math.random() * itemsAmount);\n          let itemName = items[itemId].name;\n          console.log(items[itemId.quality]);\n          let itemQuality = items[itemId.quality]\n            let question = {\n              question: <QualityQuestion itemName={itemName}></QualityQuestion>,\n              correctAnswer: itemQuality,\n              answers: [0,1,2,3,4]\n            }\n            resolve(question);\n        }\n        // Charge Questions\n        // TO BE REFACTORISED, THE CODE IS AWFUL RIGHT NOW\n        if(questionType == QuestionType.ChargeQuestion) {\n          let itemId = activeItemIds[Math.floor(Math.random() * activeItemIds.length)]\n          fetch(`${apiUrl}/api/items/${itemId}`)\n          .then(response => response.json())\n          .then(data => {\n            let answers = [ChargeAnswer(\"unlimited\"), ChargeAnswer(\"one time use\")]\n            // Randomise different sets of answers based on the correct answer type\n            if(data.rechargeTime.unit == \"s\" && Number(data.rechargeTime.amount) <= 6) {\n              let additionalAnswers = shuffledArray(possibleAnswersSeconds);\n              let correctAnswer = ChargeAnswer(data.rechargeTime.unit, data.rechargeTime.amount);\n              additionalAnswers = additionalAnswers.filter((el) => {\n                return el != correctAnswer\n              })\n              answers[2] = additionalAnswers[0];\n              answers[3] = additionalAnswers[1];\n              answers[4] = ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit);\n              answers = shuffledArray(answers);\n            }\n            else if(data.rechargeTime.unit == \"s\" && Number(data.rechargeTime.amount) >= 7) {\n              let additionalAnswers = shuffledArray(possibleAnswersSecondsSpecial);\n              let correctAnswer = ChargeAnswer(data.rechargeTime.unit, data.rechargeTime.amount);\n              additionalAnswers = additionalAnswers.filter((el) => {return el != correctAnswer})\n              answers[2] = additionalAnswers[0];\n              answers[3] = additionalAnswers[1];\n              answers[4] = ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit);\n              answers = shuffledArray(answers);\n            }\n            else if(data.rechargeTime.unit == \"rooms\") {\n              let correctAnswer = ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit);\n              let additionalAnswers = shuffledArray(possibleAnswersRooms);\n              additionalAnswers = additionalAnswers.filter((el) => {return el != correctAnswer})\n              answers[2] = additionalAnswers[0];\n              answers[3] = additionalAnswers[1];\n              answers[4] = correctAnswer;\n              answers = shuffledArray(answers);\n            }\n            else {\n              let additionalAnswers = shuffledArray(possibleAnswersRooms);\n              answers[2] = additionalAnswers[0];\n              answers[3] = additionalAnswers[1];\n              answers[4] = additionalAnswers[2];\n              answers = shuffledArray(answers);\n            }\n            let question = {\n              question: <ChargeQuestion itemName={data.name}></ChargeQuestion>,\n              correctAnswer: ChargeAnswer(data.rechargeTime.amount, data.rechargeTime.unit),\n              answers: answers\n            }\n            resolve(question);\n          });\n        }\n        if(questionType == QuestionType.CharacterUnlockQuestion) {\n          let itemId = Math.floor(Math.random() * itemsAmount);\n          let characters = [\n            \"Isaac\",\n            \"Magdalene\",\n            \"Cain\",\n            \"Judas\",\n            \"???\",\n            \"Eve\",\n            \"Samson\",\n            \"Azazel\",\n            \"Lazarus\",\n            \"Eden\",\n            \"The Lost\",\n            \"Lilith\",\n            \"Keeper\",\n            \"Apollyon\",\n            \"The Forgotten\",\n            \"Bethany\",\n            \"Jacob and Esau\",\n            \"Tainted Isaac\",\n            \"Tainted Magdalene\",\n            \"Tainted Cain\",\n            \"Tainted Judas\",\n            \"Tainted ???\",\n            \"Tainted Eve\",\n            \"Tainted Samson\",\n            \"Tainted Azazel\",\n            \"Tainted Lazarus\",\n            \"Tainted Eden\",\n            \"Tainted Lost\",\n            \"Tainted Lilith\",\n            \"Tainted Keeper\",\n            \"Tainted Apollyon\",\n            \"Tainted Forgotten\",\n            \"Tainted Bethany\",\n            \"Tainted Jacob\",\n          ];\n          let properItemFound = false;\n          let correctAnswer;\n          let itemName;\n          while(!properItemFound) {\n            let checkedItem = items[Math.floor(Math.random() * itemsAmount)];\n            if(checkedItem.unlock && checkedItem.unlock.character) {\n              properItemFound = true;\n              correctAnswer = checkedItem.unlock.character;\n              itemName = checkedItem.name;\n            }\n          }\n          let charactersWithoutCorrect = characters.filter(el => {return el != correctAnswer});\n          charactersWithoutCorrect = shuffledArray(charactersWithoutCorrect);\n          let answers = [\n            correctAnswer,\n            charactersWithoutCorrect[0],\n            charactersWithoutCorrect[1],\n            charactersWithoutCorrect[2],\n            charactersWithoutCorrect[3],\n          ]\n          answers = shuffledArray(answers);\n            let question = {\n              question: <CharacterUnlockQuestion itemName={itemName}></CharacterUnlockQuestion>,\n              correctAnswer: correctAnswer,\n              answers: answers\n            }\n            resolve(question);\n        }\n        if(questionType == QuestionType.ItemDescriptionQuestion) {\n          let answers = [];\n          let itemName;\n          while(answers.length < 5) {\n            let item = items[Math.floor(Math.random() * itemsAmount)];\n            answers.push(item.quote);\n            itemName = item.name;\n          }\n          let correctAnswer = answers[4];\n          answers = shuffledArray(answers);\n\n          let question = {\n            question: <ItemDescriptionQuestion itemName={itemName}></ItemDescriptionQuestion>,\n            correctAnswer: correctAnswer,\n            answers: answers\n          }\n          resolve(question);\n        }\n      })\n}\nasync function generateMultipleQuestions(questionAmount) {\n  let questions = []\n  for(let i = 0; i < questionAmount; i++) {\n    let question = await generateQuestion()\n    questions.push(question)\n  }\n  return questions;\n}\n\nexport {generateQuestion, generateMultipleQuestions};"]},"metadata":{},"sourceType":"module"}